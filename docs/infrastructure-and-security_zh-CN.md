<p align="right">
  <a href="./infrastructure-and-security.md">English</a> | <a href="./infrastructure-and-security_zh-CN.md">简体中文</a>
</p>

# 深入了解：基础设施与安全

我的基础设施理念建立在三大支柱之上：**稳定、简单、安全**。该层是所有其他服务的基础，因此每个选择都优先考虑长期可靠性和最小的维护开销。

---

### 🚪 网关 (Gateway): Nginx Proxy Manager (NPM)

**选型理由**: 在 Traefik 和 Caddy 等竞争者中，我选择了 NPM，因为它为个人自托管场景提供了完美的平衡。它将 Nginx 反向代理的强大功能与 Let's Encrypt 自动化SSL证书管理的简便性相结合，全部通过一个极其直观的网页界面完成。这显著降低了配置的心智负担。

**核心优势**:
*   **基于图形界面的管理**: 无需手动编辑复杂的Nginx配置文件。添加一个新的基于子域的服务是一个点击式的过程。
*   **自动化SSL**: 它拥有完整、内置的 Let's Encrypt 支持，允许自动获取和续订SSL证书，并默认强制执行HTTPS。
*   **访问控制列表 (ACLs)**: 它提供了一种简便的方法，可以为任何服务添加一层HTTP基本认证，为内部或敏感应用提供额外的安全保障。

**替代品考量**:
*   `Traefik`/`Caddy`: 它们功能更强大，尤其是在通过Docker标签进行自动化服务发现方面。然而，它们的配置（无论是通过标签还是文件）都存在更陡峭的学习曲线。对于一个服务集合相对固定的个人VPS来说，NPM的简单性是明确的赢家。

---

### 🔑 金库 (Vault): Vaultwarden

**选型理由**: 在自托管环境中，密码管理器是不可或缺的。Vaultwarden 是一个用Rust编写的非官方Bitwarden API实现。它以**极低的资源消耗**提供了官方服务器99%的核心功能。

**核心优势**:
*   **极致轻量**: 与官方基于.NET的服务器相比，Vaultwarden的内存和CPU占用几乎可以忽略不计，使其成为资源受限VPS环境的完美选择。
*   **完全兼容**: 它与所有官方的Bitwarden客户端（浏览器扩展、桌面应用和移动应用）无缝协作，确保了流畅的用户体验。
*   **数据主权**: 我的所有密码都经过端到端加密，并完全存储在我自己的服务器上，彻底切断了我对第三方密码管理服务的依赖。

---

### 🔭 瞭望塔 (Watchtower): Uptime Kuma

**选型理由**: 一个运行中的系统必须是一个可观测的系统。Uptime Kuma 以其**美观、直观的界面**和**极其简单的配置**脱颖而出。

**核心优势**:
*   **轻松设置**: 添加一个新的监控项（HTTP、Ping、端口等）非常直接，完全通过UI完成。
*   **丰富的通知渠道**: 它支持数十种通知方式（Telegram、Discord、电子邮件等），确保在服务不可用时我能第一时间知晓。
*   **美观的状态页**: 它允许创建公共或私有的状态页面，以优美的方式可视化所有服务的健康状况——这是一个非常令人满足的功能。
---

### 🚢 舵手 (Helm): Portainer

**选型理由**: 尽管命令行很强大，但一个健壮的图形界面对于日常管理、快速排错和清晰地概览环境而言是无价的。Portainer 是Docker Web UI领域的事实标准，它提供了对容器生态系统每个方面的全面控制。

**核心优势**:
*   **完整的环境管理**: 它提供了一个单一的玻璃面板来管理容器、镜像、数据卷、网络，以及最重要的——堆栈 (docker-compose 文件)。
*   **简化的操作**: 拉取镜像、重启容器、检查日志或进入容器控制台等操作，都变成了在Web浏览器中的简单点击，这对于执行快速任务而言，远比SSH登录并键入命令要高效。
*   **堆栈管理**: 它能够直接从UI部署、编辑和管理 `docker-compose.yml` 文件，这是一个杀手级功能，极大地简化了整个应用程序生命周期的管理流程。
*   **资源监控**: 内置的、针对每个容器的实时状态统计，帮助我即时识别哪些服务正在消耗最多的CPU或内存。